const cacheName="TetCache_V1.0";async function cacheFirst(a){const e=await caches.match(a);var t;if(!e||"audio"!==a.destination)try{(t=await fetch(a.url)).ok&&self.isStandalone&&(await caches.open(cacheName)).put(a,t)}catch(a){console.log(a)}return e||t}self.isStandalone=!1,addEventListener("message",(a=>{self.isStandalone=isStandalone in a.data&&a.data.isStandalone,alert(self.isStandalone)})),self.addEventListener("fetch",(a=>{a.respondWith(cacheFirst(a.request))})),self.addEventListener("activate",(async a=>{const e=await caches.keys();await Promise.all(e.filter((a=>a!=cacheName)).map((a=>caches.delete(a))))}));